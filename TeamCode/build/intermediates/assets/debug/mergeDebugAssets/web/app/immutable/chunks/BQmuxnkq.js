import"./Bzak7iHL.js";import{h as yt,e as wt,aj as ht,a2 as nt,ak as _t,a5 as bt,g as gt,_ as St,ai as Et,b6 as kt,b7 as Tt,b8 as Ct,aB as mt,b9 as At,S as Nt,w as z,ba as It,bb as Lt,i as Ot,bc as Pt,m as F,bd as Rt,p as rt,f as X,t as Z,b as B,d as at,c as $,r as tt,aS as pt,a1 as lt,x as S,aT as q,a as V,v as ft,s as ct,a9 as P,a8 as Mt}from"./CPE_FGaW.js";import{g as zt,d as Y,o as Ft}from"./CYoLi21S.js";import{r as Bt,s as Dt,a as qt,c as j}from"./Dqm9uXNb.js";import{p as k,b as ut,i as Ht}from"./Bc_pzR6B.js";import"./CLArloRq.js";import{i as Gt}from"./C_9D4TEp.js";function Wt(e,t,n,a,o){var l;yt&&wt();var r=(l=t.$$slots)==null?void 0:l[n],i=!1;r===!0&&(r=t.children,i=!0),r===void 0||r(e,i?()=>a:a)}function Xt(e,t,n){ht(()=>{var a=nt(()=>t(e,n==null?void 0:n())||{});if(n&&(a!=null&&a.update)){var o=!1,r={};_t(()=>{var i=n();bt(i),o&&gt(r,i)&&(r=i,a.update(i))}),o=!0}if(a!=null&&a.destroy)return()=>a.destroy()})}const Yt=()=>performance.now(),T={tick:e=>requestAnimationFrame(e),now:()=>Yt(),tasks:new Set};function xt(){const e=T.now();T.tasks.forEach(t=>{t.c(e)||(T.tasks.delete(t),t.f())}),T.tasks.size!==0&&T.tick(xt)}function Ut(e){let t;return T.tasks.size===0&&T.tick(xt),{promise:new Promise(n=>{T.tasks.add(t={c:e,f:n})}),abort(){T.tasks.delete(t)}}}function H(e,t){mt(()=>{e.dispatchEvent(new CustomEvent(t))})}function Vt(e){if(e==="float")return"cssFloat";if(e==="offset")return"cssOffset";if(e.startsWith("--"))return e;const t=e.split("-");return t.length===1?t[0]:t[0]+t.slice(1).map(n=>n[0].toUpperCase()+n.slice(1)).join("")}function dt(e){const t={},n=e.split(";");for(const a of n){const[o,r]=a.split(":");if(!o||r===void 0)break;const i=Vt(o.trim());t[i]=r.trim()}return t}const jt=e=>e;function Kt(e,t,n,a){var o=(e&It)!==0,r=(e&Lt)!==0,i=o&&r,l=(e&Ct)!==0,y=i?"both":o?"in":"out",s,f=t.inert,x=t.style.overflow,u,c;function p(){return mt(()=>s??(s=n()(t,(a==null?void 0:a())??{},{direction:y})))}var d={is_global:l,in(){var m;if(t.inert=f,!o){c==null||c.abort(),(m=c==null?void 0:c.reset)==null||m.call(c);return}r||u==null||u.abort(),H(t,"introstart"),u=et(t,p(),c,1,()=>{H(t,"introend"),u==null||u.abort(),u=s=void 0,t.style.overflow=x})},out(m){if(!r){m==null||m(),s=void 0;return}t.inert=!0,H(t,"outrostart"),c=et(t,p(),u,0,()=>{H(t,"outroend"),m==null||m()})},stop:()=>{u==null||u.abort(),c==null||c.abort()}},v=St;if((v.transitions??(v.transitions=[])).push(d),o&&zt){var g=l;if(!g){for(var _=v.parent;_&&(_.f&Et)!==0;)for(;(_=_.parent)&&(_.f&kt)===0;);g=!_||(_.f&Tt)!==0}g&&ht(()=>{nt(()=>d.in())})}}function et(e,t,n,a,o){var r=a===1;if(At(t)){var i,l=!1;return Nt(()=>{if(!l){var v=t({direction:r?"in":"out"});i=et(e,v,n,a,o)}}),{abort:()=>{l=!0,i==null||i.abort()},deactivate:()=>i.deactivate(),reset:()=>i.reset(),t:()=>i.t()}}if(n==null||n.deactivate(),!(t!=null&&t.duration))return o(),{abort:z,deactivate:z,reset:z,t:()=>a};const{delay:y=0,css:s,tick:f,easing:x=jt}=t;var u=[];if(r&&n===void 0&&(f&&f(0,1),s)){var c=dt(s(0,1));u.push(c,c)}var p=()=>1-a,d=e.animate(u,{duration:y,fill:"forwards"});return d.onfinish=()=>{d.cancel();var v=(n==null?void 0:n.t())??1-a;n==null||n.abort();var g=a-v,_=t.duration*Math.abs(g),m=[];if(_>0){var w=!1;if(s)for(var D=Math.ceil(_/16.666666666666668),R=0;R<=D;R+=1){var h=v+g*x(R/D),C=dt(s(h,1-h));m.push(C),w||(w=C.overflow==="hidden")}w&&(e.style.overflow="hidden"),p=()=>{var b=d.currentTime;return v+g*x(b/_)},f&&Ut(()=>{if(d.playState!=="running")return!1;var b=p();return f(b,1-b),!0})}d=e.animate(m,{duration:_,fill:"forwards"}),d.onfinish=()=>{p=()=>a,f==null||f(a,1-a),o()}},{abort:()=>{d&&(d.cancel(),d.effect=null,d.onfinish=z)},deactivate:()=>{o=z},reset:()=>{a===0&&(f==null||f(1,0))},t:()=>p()}}function Jt(e,t,n=t){var a=Ot(),o=new WeakSet;Pt(e,"input",r=>{var i=r?e.defaultValue:e.value;if(i=K(e)?J(i):i,n(i),F!==null&&o.add(F),a&&i!==(i=t())){var l=e.selectionStart,y=e.selectionEnd;e.value=i??"",y!==null&&(e.selectionStart=l,e.selectionEnd=Math.min(y,e.value.length))}}),(yt&&e.defaultValue!==e.value||nt(t)==null&&e.value)&&(n(K(e)?J(e.value):e.value),F!==null&&o.add(F)),_t(()=>{var r=t();if(e===document.activeElement){var i=Rt??F;if(o.has(i))return}K(e)&&r===J(e.value)||e.type==="date"&&!r&&!e.value||r!==e.value&&(e.value=r??"")})}function K(e){var t=e.type;return t==="number"||t==="range"}function J(e){return e===""?null:+e}var Qt=X('<input type="text"/>');function we(e,t){rt(t,!0);let n=k(t,"value",15),a=k(t,"placeholder",3,""),o=k(t,"disabled",3,!1),r=k(t,"transparent",3,!1),i=k(t,"oninput",3,()=>{});var l=Qt();Bt(l),l.__input=function(...s){var f;(f=i())==null||f.apply(this,s)};let y;Z(s=>{Dt(l,"placeholder",a()),l.disabled=o(),y=qt(l,1,"svelte-1wdir4n",null,y,s)},[()=>({transparent:r()})]),Jt(l,n),B(e,l),at()}Y(["input"]);Y(["input"]);Y(["input"]);function Q(e,t="body"){let n;async function a(r){if(t=r,typeof t=="string"){if(n=document.querySelector(t),n===null&&(await pt(),n=document.querySelector(t)),n===null)throw new Error(`No element found matching css selector: "${t}"`)}else if(t instanceof HTMLElement)n=t;else throw new TypeError(`Unknown portal target type: ${t===null?"null":typeof t}. Allowed types: string (CSS selector) or HTMLElement.`);n.appendChild(e),e.hidden=!1}function o(){e.parentNode&&e.parentNode.removeChild(e)}return a(t),{update:a,destroy:o}}var Zt=X("<div hidden><!></div>");function $t(e,t){rt(t,!1);let n=k(t,"target",8,"body");Gt();var a=Zt(),o=$(a);Wt(o,t,"default",{}),tt(a),Xt(a,(r,i)=>Q==null?void 0:Q(r,i),n),B(e,a),at()}const G="__PANELS__";function te(){return window[G]}function ee(){const e=window;return e[G]||(e[G]={}),e[G]}function W(e,t){const n=ee();n[e]=t}function it(e){var t;return(t=te())==null?void 0:t[e]}function ne(e,t){var n=it("overlays");return n==null&&(n=[]),n.push({id:e,close:t}),W("overlays",n),n.length-1}function re(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}function ae(e){var a,o;let t=it("overlays");if(!t||t.length==0)return;if(t.length==1){(a=t[0])==null||a.close(),t=[],W("overlays",t);return}const n=t.findIndex(r=>r.id===e);if(n!==-1){for(let r=n;r<t.length;r++)(o=t[r])==null||o.close();t=t.slice(0,n),W("overlays",t)}}function ie(e){let t=it("overlays");if(!t||t.length===0)return;const n=t[t.length-1];n!=null&&n.id===e&&(n.close(),t.pop(),W("overlays",t))}const se=e=>e;function oe(e){const t=e-1;return t*t*t+1}function vt(e){const t=typeof e=="string"&&e.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return t?[parseFloat(t[1]),t[2]||"px"]:[e,"px"]}function le(e,{delay:t=0,duration:n=400,easing:a=se}={}){const o=+getComputedStyle(e).opacity;return{delay:t,duration:n,easing:a,css:r=>`opacity: ${r*o}`}}function be(e,{delay:t=0,duration:n=400,easing:a=oe,x:o=0,y:r=0,opacity:i=0}={}){const l=getComputedStyle(e),y=+l.opacity,s=l.transform==="none"?"":l.transform,f=y*(1-i),[x,u]=vt(o),[c,p]=vt(r);return{delay:t,duration:n,easing:a,css:(d,v)=>`
			transform: ${s} translate(${(1-d)*x}${u}, ${(1-d)*c}${p});
			opacity: ${y-f*v}`}}var fe=e=>{e.detail>1&&e.preventDefault()},ce=(e,t)=>{(e.key==="Enter"||e.key===" ")&&(e.preventDefault(),t())},ue=X('<div class="backdrop svelte-syhlzl" aria-hidden="true"></div> <div class="overlay svelte-syhlzl"><!></div>',1),de=X('<div class="trigger svelte-syhlzl" role="button" tabindex="0"><!></div> <!>',1);function ge(e,t){rt(t,!0);let n=k(t,"overlayStyle",3,""),a=k(t,"triggerStyle",3,""),o=k(t,"onStateChange",3,()=>{}),r=q(!1);lt(()=>{o()(S(r))});let i=q(0),l=q(0),y=q(0),s,f,x=null;lt(()=>{S(r)?u():c()});function u(){c(),x=setInterval(()=>{!S(r)||!f||!s||v()},1e3/10)}function c(){x&&(clearInterval(x),x=null)}let p=re();function d(h){h&&(P(i,h.clientX,!0),P(l,h.clientY,!0),h.preventDefault()),S(r)?(g(),P(r,!1)):(P(y,ne(p,()=>{P(r,!1)}),!0),P(r,!0)),pt().then(()=>{s&&v()})}function v(){if(!S(r)||!f||!s)return;const h=s.style.visibility,C=s.style.position;s.style.visibility="hidden",s.style.position="fixed",s.style.left="0",s.style.top="0";const b=f.getBoundingClientRect(),L=s.getBoundingClientRect(),M=getComputedStyle(s).position,A=window.scrollX,E=window.scrollY,I=document.documentElement.clientWidth,U=document.documentElement.clientHeight;let N=b.left+A,O=b.bottom+E+8;if(N+L.width>A+I&&(N=A+I-L.width-10),O+L.height>E+U&&(O=b.top+E-L.height-8),N=Math.max(A+10,N),O=Math.max(E+10,O),M==="absolute"&&s.offsetParent instanceof HTMLElement){const ot=s.offsetParent.getBoundingClientRect();N-=ot.left+A,O-=ot.top+E}s.style.visibility=h,s.style.position=C,s.style.left=`${N}px`,s.style.top=`${O}px`}function g(){ae(p)}function _(h){if(!S(r)||!s)return;h.preventDefault();const C=h.composedPath();C.includes(s)||C.includes(f)||ie(p)}Ft(()=>(window.addEventListener("click",_,!0),window.addEventListener("resize",v),()=>{window.removeEventListener("click",_,!0),window.removeEventListener("resize",v),c()}));var m=de(),w=V(m);w.__click=d,w.__mousedown=[fe],w.__keydown=[ce,d];var D=$(w);ft(D,()=>t.trigger,()=>({isOpen:S(r)})),tt(w),ut(w,h=>f=h,()=>f);var R=ct(w,2);$t(R,{children:(h,C)=>{var b=Mt(),L=V(b);{var st=M=>{var A=ue(),E=V(A),I=ct(E,2),U=$(I);ft(U,()=>t.overlay,()=>({close:g})),tt(I),ut(I,N=>s=N,()=>s),Z(()=>{j(E,`z-index: ${998+S(y)*2}`),j(I,`z-index: ${999+S(y)*2}; ${n()}`)}),Kt(3,E,()=>le,()=>({duration:100})),B(M,A)};Ht(L,M=>{S(r)&&M(st)})}B(h,b)},$$slots:{default:!0}}),Z(()=>j(w,a())),B(e,m),at()}Y(["click","mousedown","keydown"]);export{ge as O,we as T,Xt as a,be as f,re as g,Wt as s,Kt as t};
